#lang zuo
(require "harness.zuo")

;; This script is run by the "build.zuo" test to verify timing output

(define (tmp fn)
  (build-path tmp-dir fn))

(define test-file (tmp "timing-test.txt"))

;; Remove the file to force a rebuild
(rm* test-file)

(define t (target test-file
                  (lambda (path token)
                    (rule '()
                          (lambda ()
                            (display-to-file "test\n" path :truncate))))))

;; Build with normal output - should show timing
(build t)
